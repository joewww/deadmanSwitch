<html>
<head>
  <title>deadmanSwitch Wallet</title>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/bootstrap.css">
</head>

<body>
  <script src="./js/web3.min.js"></script>
  <script src="./js/jquery-3.2.1.min.js"></script>
  <script src="./js/bootstrap.min.js"></script>
  <!-- shoutouts to https://programtheblockchain.com/ for the web3js examples
  -->
  <script src="./js/deadmanSwitch.js"></script>

  <!-- owner control panel
  -->
  <div class="modal fade" id="owner-display" tabindex="-1" role="dialog" aria-labelledby="important-msg-label" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title" id="important-msg-label">Owner control panel</h4>
        </div>
        <div class="modal-body">
          <b>This function should be called at least once per year to extend the minimum withdraw time for the designated beneficiary.</b>
          <br /><br />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="checkin">Check in!</button>
        </div>
      </div>
    </div>
  </div>


  <!-- beneficiary control panel
  -->
  <div class="modal fade" id="beneficiary-display" tabindex="-1" role="dialog" aria-labelledby="important-msg-label" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title" id="important-msg-label">Beneficiary control panel</h4>
        </div>
        <div class="modal-body">
          <b>Note: The beneficiary will need to execute the checkAlive() function, which will set alive=false if the owner hasn't checked in by min_time.</b>
          <br /><br />
          <b>Once alive=false, the beneficiary will be able to execute the withdraw() function.</b>
          <br /><br />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-default" id="withdraw">Withdraw Funds</button>
          <button type="button" class="btn btn-primary" id="checkAlive">Check Alive</button>
        </div>
      </div>
    </div>
  </div>

  <div class="header">ðŸ’€ Dead Man Switch Wallet</div>

    <div class="contract-info"><p>Available Balance: <span id="balance">??</span> ETH</p>
      <p>Funds not available before: <span id="min_time">??</span></p>
      <p><span id="alive">??</span></p>
      <p>Written Contract IPFS Hash: <span id="ipfsHash">??</span></p>
      <p><img src="nothin.png" id="ipfsImage" name="ipfsImage"/></p>
    </div>
<!--
  <div id="log"></div>
-->

  <div id="helper"></div>

  <div id="footer" class="footer">
    Log in:
    <a href='#' onclick='loadOwnerDisplay()'>Owner</a> |
    <a href='#' onclick='loadBeneficiaryDisplay()'>Beneficiary</a>
    <div id="address" class="address">
      <div id="myaddress"></div>
    </div>
  </div>


</body>
</html>
